
- データを保持するだけのクラス(=データクラス)をつくると計算ロジックは別のクラスに実装されることが多い
  - データと計算ロジックが離れた場所に実装されていると計算ロジックが複数実装されていても認知が難しい
  - 関連するデータとロジックが分散している状態を「低凝集」という

- 初期化処理が必要であったり、利用者側が使い方を知らないといけない未初期化状態が発生しうるクラスを作らない

- クラスに関係するデータとロジックをまとめる
  - コンストラクタで不正な値が入らないようにしておく
  - 高凝集なクラス

- クラス単体で正常動作するように設計する
  - 構成部品であるクラス一つ一つが品質的に完結するようにする 
  
- 正しく操作できるメソッドのみを外部に提供する(カプセル化)

- クラス設計はインスタンス変数を不正状態に陥らせないための仕組みづくり

- 値オブジェクト+完全コンストラクタで設計すると制約や意図を型として表現可能になる

- データとデータを操作するロジックを一箇所にまとめて高凝集にし、必要な操作だけを外に公開するようカプセル化する

- 副作用とは関数が引数を受け取り戻り値を返す以外に、外部の状態を変更すること
  - インスタンス変数、グローバル変数、引数の変更 
  - ファイルの読み書き

- 引数で状態を受け取り、状態変更せず値を返すだけの関数が理想

- 凝集度はモジュール内におけるデータとロジックの関係性の強さを表す指標

- static メソッドはインスタンス変数を使えないので、データとデータを操作するロジックが乖離する
  - インスタンス変数を使わず引数で受け取った値を使って計算するだけのメソッドは static をつけても動作する
  - 凝集度に影響のないログ出力メソッドは static メソッドで設計して良い

- コンストラクタを公開すると様座生用途で使われ、初期化ロジックが分散する
  - コンストラクタを private にして目的別のファクトリメソッドを作る

- common,util といった共通を匂わせる命名は関連のないロジックが雑多に置かれ低凝集な構造を作りやすい
  - 再利用性は高凝集な設計にすることで高まる

- 出力として用いる引数を「出力引数」と呼ぶ
  - 引数は入力値として渡す
  - 出力値として扱うと、入出力どちらで使われているかメソッドの中身を読んで確認する必要がある

- メソッドに渡す引数が増えると処理させたい内容が膨らんでいる状態が多い
  - データを引数として扱うのではなく、そのデータをインスタンス変数として持つクラスに変更できるかも

- メソッドチェインは階層構造の奥の要素にアクセスするため低凝集に陥る
  - 利用するオブジェクトの内部を知るべきではないという「デルメルの法則」に違反する

- interface を用いて処理を切り替える設計を「ストラテジパターン」と呼ぶ
